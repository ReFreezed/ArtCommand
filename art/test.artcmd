func TestBlobs X Y Size
	set Col -1

	func TestBlobColumn R G B
		setx Col (Col+1)
		color R G B 1
		circle (X+(Col+.5)*Size) (Y+(0+.5)*Size) (Size/2)
		color R G B .75
		circle (X+(Col+.5)*Size) (Y+(1+.5)*Size) (Size/2)
		color R G B .50
		circle (X+(Col+.5)*Size) (Y+(2+.5)*Size) (Size/2)
		color R G B .25
		circle (X+(Col+.5)*Size) (Y+(3+.5)*Size) (Size/2)
	end

	push
		TestBlobColumn 1 1 1
		TestBlobColumn 0 0 0
		TestBlobColumn 1 0 0
	pop
end



canvas 500 500 aa4
backdrop0 .3 0 .5
# backdrop (40/255) (40/255) (40/255)
fill.4 .4 .4 .5
# zoom 2

# Draw stuff.
color 1 1 1 .1
font 64  # Big boy!
text 10 0 "TEST TEST TEST

color 0 0 0
circle 50 50 10

# Transform.
move 50 50

push
	rotate 20deg
	color 1 1 1
	rect 0 0 10 10 ax.5 ay.5

	set X 16
	circle -X 0 3
pop

# Masks.
makemask
	rect w20 h20
	rect w30 h30 y35
	circle 50 50 10
	font 24
	text text"Hello, world!" x12
	TestBlobs 1 40 4
	TestBlobs 1 70 4
mask
	color 1 50% 1
	rect w1000 h1000 ax.5 ay.5
	TestBlobs 1 1 4
mask False
TestBlobs -13 1 4

# Line shapes.
color 1 1 0
circle "line" r24

# Reset transform.
origin
color 1 1 .89
circle r20

# Functions.
func DrawCircle X Y
	func DrawCircle X Y #inner
		circle X Y 10
	end
	DrawCircle (2*X) Y #inner
end

set "RG" .7
color RG RG 1
set  Tens "foo"
setx Tens (2*15)
DrawCircle 80 150
DrawCircle(50+25) (200 - Tens)

# Loops.
color .5 0 0 .5
for 1 7 2
	rect (200+I*10) 150 10 50
end

# Blocks.
color 0 0 0
set X 0
do
	set X 100
end
circle "line" thick4 X 250 10
